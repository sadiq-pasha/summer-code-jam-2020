{% extends 'main/main-base.html' %}
{% load templatetags %} 
{% block herocontent %}
    <div class="hero-body">
    
        <div class="container grid">
            <div class="box">
                <article class="media notification">
                    <figure class="media-left image is-128x128">
                    <!--profile picture here?-->
                        <img src="https://bulma.io/images/placeholders/128x128.png">
                    </figure>
                    <div class="media-content">
                    <div class="content">
                        <h2 class="title">{{ pref.name_preference }}</h2>
                        <p class="subtitle">{{ user.username }}</p>
                        <p class="subtitle">{{ user.email }}</p>
                    </div>
                    </div>
                </article>
                <!-- Update Profile Form Here -->
                <div>
                    <p class="is-size-6 has-text-weight-bold">Display Name:</p>
                    <p class="subtitle is-6">{{ pref.name_preference }}</p>
                    <p class="is-size-6 has-text-weight-bold">Temperature Preference:</p>
                    {% if pref.weather_preference == 'WARM' %}
                        <p class="subtitle is-6">
                            I tend to run 
                            <span class="tag is-danger">{{ pref.weather_preference }}</span>
                        </p>
                    {% elif pref.weather_preference == 'COLD' %}
                        <p class="subtitle is-6">
                            I tend to run 
                            <span class="tag is-link">{{ pref.weather_preference }}</span>
                        </p>
                    {% else %}
                        <p class="subtitle is-6">
                            I tend to run 
                            <span class="tag is-success">{{ pref.weather_preference }}</span>
                        </p>
                    {% endif %}
                    
                    <p class="is-size-6 has-text-weight-bold">Display Weather?</p>
                    <p class="subtitle is-6">{{ pref.display_weather }}</p>
                </div>
                <div>
                    <form method="POST">
                        {% csrf_token %}
                        <fieldset>
                            <div class="control">
                                <p>
                                    <label class="label">{{ form.weather_preference.label_tag }}</label>
                                    <div class="select is-small">{{ form.weather_preference }}</div>
                                </p>
                            </div>
                            <div class="field">
                                <div class="control">
                                    <p>
                                        <label class="label">{{ form.name_preference.label_tag }}</label>
                                        {{ form.name_preference|add_class:"input" }}
                                    </p>
                                </div>
                            </div>
                            <div class="control">
                                <p>
                                    <label class="label">Dashboard Options:</label>
                                    <div class="checkbox">
                                        {{ form.display_weather.label_tag }}
                                        {{ form.display_weather }}
                                    </div>
                                </p>
                            </div>
                            <div class="control">
                                <p>
                                    <div class="checkbox">
                                        {{ form.display_news.label_tag }}
                                        {{ form.display_news }}
                                    </div>
                                </p>
                            </div>
                            <div class="control">
                                <p>
                                    <div class="checkbox">
                                        {{ form.display_music.label_tag }}
                                        {{ form.display_music }}
                                    </div>
                                </p>
                            </div>
                        </fieldset>
                        <div class="field">
                            <div class="control">
                                <button class="button is-link" type="submit">Update Preferences</button>
                            </div>
                        </div>
                    </form>
                </div>
                <!-- User Background -->
                <div>
                    upload background image here?
                </div>
                <!-- Next feature -->
            </div>
        </div>
    </div>
{% endblock herocontent %}
